"use strict";jQuery(function(a){var b={init:function(){this.bindEvents()},bindEvents:function(){a("button").on("click",this.sendQuery)},sendQuery:function(){event.preventDefault();var c=a("#book-isbn").val();console.log(c),b.getBookByIsbn(c)},render:function(b){a("#error").addClass("hide"),a("#book-info").removeClass("hide"),a("#book-title").text(b.title),b.author.forEach(function(b){a("#book-author").text(b)}),a("#book-publisher").text(b.publisher),a("#book-pubdate").text(b.pubdate),a("#book-pages").text(b.pages),a("#book-price").text(b.price),a("#book-cover").attr("src",b.images.large),a("#book-summary").text(b.summary)},showError:function(){a("#book-info").addClass("hide"),a("#error").removeClass("hide")},getBookByIsbn:function(c){a.ajax({dataType:"jsonp",jsonpCallback:"bookquery",timeout:2e3,url:"http://api.douban.com/v2/book/isbn/"+c+"?alt=xd"}).done(function(a){b.render(a)}).fail(function(){b.showError()}).always(function(){a("#welcome").addClass("hide")})}};b.init()});